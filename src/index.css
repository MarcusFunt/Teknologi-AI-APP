/*
  Theme variables

  The application supports both light and dark modes by defining two sets of
  CSS custom properties.  A class of either `.light` or `.dark` on the
  root element (html) selects which palette is in effect.  Dark mode
  values mirror the original design while the light palette provides a
  subtle high‑contrast alternative.  The default theme is dark; when
  toggled the `.light` class is applied to `document.documentElement`.
*/
:root {
  /* dark mode variables */
  --bg: #0d0f1a;
  --panel: rgba(255, 255, 255, 0.04);
  --panel-strong: rgba(255, 255, 255, 0.08);
  --border: rgba(255, 255, 255, 0.08);
  --text: #e8ecf5;
  --muted: #b6bdd3;
  --primary: #7c9bff;
  --primary-strong: #5470ff;
  --amber: #f0c674;
  --pink: #ff8fb1;
  --teal: #4fd1c5;
  --violet: #c084fc;
  --green: #74dba8;
  --shadow: 0 20px 80px rgba(0, 0, 0, 0.45);
}

html.light {
  /* light mode variables */
  --bg: #f9fafb;
  --panel: rgba(0, 0, 0, 0.05);
  --panel-strong: rgba(0, 0, 0, 0.09);
  --border: rgba(0, 0, 0, 0.12);
  --text: #202634;
  --muted: #667385;
  --primary: #647eff;
  --primary-strong: #3f51b5;
  --amber: #c1922c;
  --pink: #d16c8c;
  --teal: #319795;
  --violet: #805ad5;
  --green: #2f855a;
  --shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
}

html.dark {
  /* duplicate dark palette so switching between light/dark doesn't lose variables */
  --bg: #0d0f1a;
  --panel: rgba(255, 255, 255, 0.04);
  --panel-strong: rgba(255, 255, 255, 0.08);
  --border: rgba(255, 255, 255, 0.08);
  --text: #e8ecf5;
  --muted: #b6bdd3;
  --primary: #7c9bff;
  --primary-strong: #5470ff;
  --amber: #f0c674;
  --pink: #ff8fb1;
  --teal: #4fd1c5;
  --violet: #c084fc;
  --green: #74dba8;
  --shadow: 0 20px 80px rgba(0, 0, 0, 0.45);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: radial-gradient(120% 120% at 20% 20%, rgba(124, 155, 255, 0.1), transparent),
    radial-gradient(100% 140% at 80% 0%, rgba(192, 132, 252, 0.16), transparent),
    linear-gradient(145deg, #0b1229, #0a1024 40%, #090e21 75%);
  color: var(--text);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  letter-spacing: -0.01em;
  padding: 32px 20px 40px;
}

.app-shell {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 28px;
}

.hero {
  border: 1px solid var(--border);
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.02));
  border-radius: 24px;
  padding: 28px;
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: 24px;
  box-shadow: var(--shadow);
}

.hero-side {
  display: grid;
  gap: 14px;
}

.auth-card {
  border: 1px solid var(--border);
  background: linear-gradient(135deg, rgba(124, 155, 255, 0.08), rgba(255, 255, 255, 0.02));
  border-radius: 16px;
  padding: 14px;
  display: grid;
  gap: 10px;
}

.auth-toggle {
  display: inline-flex;
  border-radius: 12px;
  border: 1px solid var(--border);
  overflow: hidden;
}

.auth-toggle button {
  background: transparent;
  color: var(--text);
  padding: 10px 14px;
  border: none;
  font-weight: 600;
  transition: background 0.2s ease, color 0.2s ease;
}

.auth-toggle button.active {
  background: rgba(124, 155, 255, 0.18);
  color: #dfe6ff;
}

.auth-form {
  display: grid;
  gap: 10px;
}

.auth-form label {
  display: grid;
  gap: 6px;
  color: var(--muted);
  font-size: 14px;
}

.auth-form input {
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
}

.auth-form input:focus {
  border-color: rgba(124, 155, 255, 0.4);
  outline: none;
}

.auth-error {
  margin: 0;
  color: #ffb4c2;
  font-weight: 600;
  font-size: 14px;
}

.primary {
  background: linear-gradient(145deg, var(--primary), var(--primary-strong));
  color: #0b1023;
  padding: 12px 14px;
  border-radius: 12px;
  border: none;
  font-weight: 700;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 10px 30px rgba(84, 112, 255, 0.35);
}

.primary:disabled {
  opacity: 0.65;
  cursor: not-allowed;
  box-shadow: none;
}

.primary:hover:not(:disabled) {
  transform: translateY(-1px);
}

.primary.ghosty {
  background: transparent;
  color: var(--text);
  border: 1px solid rgba(124, 155, 255, 0.4);
  box-shadow: none;
  padding: 10px 12px;
}

.ghost.full {
  width: 100%;
  text-align: center;
}

.signed-in {
  display: grid;
  gap: 6px;
}

.hero h1 {
  margin: 10px 0 8px;
  font-size: 32px;
}

.eyebrow {
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.12em;
  font-size: 11px;
  margin: 0;
}

.lede {
  margin: 0 0 14px;
  color: #cfd6ea;
  line-height: 1.6;
}

.hero-actions {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

button {
  font: inherit;
  cursor: pointer;
  border: none;
}

button:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

.ghost {
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid var(--border);
  color: var(--text);
  border-radius: 12px;
  padding: 12px 16px;
  transition: all 0.2s ease;
}

.ghost:hover {
  transform: translateY(-1px);
  border-color: rgba(124, 155, 255, 0.4);
}

.tag {
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.03);
  color: var(--muted);
  font-size: 13px;
}

.stat-card {
  border: 1px solid var(--border);
  background: var(--panel);
  border-radius: 20px;
  padding: 18px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
}

.stat {
  background: var(--panel-strong);
  border-radius: 16px;
  padding: 12px 14px;
  border: 1px solid var(--border);
  display: grid;
  gap: 4px;
}

.stat strong {
  font-size: 26px;
}

.label {
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.14em;
  font-size: 11px;
  margin: 0;
}

.subtle {
  color: #9aa3c1;
}

.hint {
  color: var(--muted);
  margin: 0;
  font-size: 13px;
}

.layout {
  display: grid;
  grid-template-columns: 1.2fr 0.9fr;
  gap: 18px;
}

.panel {
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 18px;
  backdrop-filter: blur(12px);
  box-shadow: var(--shadow);
}

.panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 12px;
}

.panel-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.panel h2,
.panel h3 {
  margin: 6px 0 0;
}

.controls {
  display: inline-flex;
  gap: 10px;
}

.controls button {
  height: 36px;
  width: 36px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  font-size: 18px;
  transition: transform 0.16s ease, border-color 0.2s ease;
}

.controls button:hover {
  transform: translateY(-1px);
  border-color: rgba(124, 155, 255, 0.45);
}

.weekday-row {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  color: var(--muted);
  font-size: 13px;
  margin-bottom: 6px;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
}

.calendar-grid .day,
.calendar-grid .empty {
  aspect-ratio: 1 / 1;
  border-radius: 14px;
}

.calendar-grid .day {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--border);
  color: var(--text);
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  padding: 12px 10px;
  position: relative;
  transition: all 0.18s ease;
}

.calendar-grid .day:hover {
  border-color: rgba(124, 155, 255, 0.4);
  transform: translateY(-1px);
}

.day .date-number {
  font-weight: 600;
}

.day .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--primary);
  box-shadow: 0 0 0 6px rgba(124, 155, 255, 0.14);
}

.day.selected {
  border-color: var(--primary);
  background: linear-gradient(145deg, rgba(124, 155, 255, 0.16), rgba(255, 255, 255, 0.05));
  box-shadow: inset 0 0 0 1px rgba(124, 155, 255, 0.6);
}

.day.today {
  box-shadow: inset 0 0 0 1px rgba(192, 132, 252, 0.6);
}

.day.has-events:not(.selected) {
  border-color: rgba(255, 255, 255, 0.12);
}

.detail-panel {
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.pill {
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(124, 155, 255, 0.12);
  color: var(--text);
  border: 1px solid rgba(124, 155, 255, 0.25);
  font-size: 13px;
}

.pill.neutral {
  background: rgba(255, 255, 255, 0.04);
  border-color: var(--border);
  color: var(--muted);
}

/*
  New page layouts

  The app has been refactored into distinct pages (login, calendar
  dashboard and settings).  These utility classes provide layout and
  styling for each page while reusing the existing colour variables.
*/

/* Container for authenticated pages */
.app-container {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 28px;
  padding-bottom: 40px;
}

/* Full‑page login layout */
.login-page {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: calc(100vh - 80px);
}

.login-card {
  border: 1px solid var(--border);
  background: var(--panel);
  backdrop-filter: blur(20px);
  border-radius: 20px;
  padding: 28px;
  width: 100%;
  max-width: 420px;
  box-shadow: var(--shadow);
  display: grid;
  gap: 16px;
}

.login-title {
  margin: 0;
  font-size: 32px;
}

.login-subtitle {
  margin: 0;
  color: var(--muted);
  line-height: 1.5;
  font-size: 15px;
}

/* Navigation bar */
.nav-bar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 12px 18px;
  box-shadow: var(--shadow);
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 12px;
}

.nav-link {
  padding: 8px 14px;
  border-radius: 12px;
  color: var(--text);
  text-decoration: none;
  font-weight: 500;
  background: transparent;
  border: 1px solid transparent;
  transition: all 0.15s ease;
}

.nav-link:hover {
  background: rgba(255, 255, 255, 0.04);
  border-color: rgba(124, 155, 255, 0.4);
}

.nav-link.active {
  background: rgba(124, 155, 255, 0.18);
  color: #dfe6ff;
  border-color: rgba(124, 155, 255, 0.4);
}

/* Settings page layout */
.settings-page {
  border: 1px solid var(--border);
  background: var(--panel);
  border-radius: 20px;
  padding: 24px;
  box-shadow: var(--shadow);
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.settings-section h3 {
  margin: 0 0 8px;
  color: var(--muted);
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--panel-strong);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px 16px;
}

.setting-item label {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  cursor: pointer;
  color: var(--text);
}

.setting-item input[type="checkbox"] {
  transform: scale(1.2);
}

.empty-state {
  border: 1px dashed var(--border);
  border-radius: 16px;
  padding: 18px;
  text-align: center;
  color: var(--muted);
  background: rgba(255, 255, 255, 0.02);
}

.empty-state .accent {
  width: 46px;
  height: 6px;
  margin: 0 auto 10px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--primary), var(--violet));
}

.events,
.timeline {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 10px;
}

.event,
.timeline-item {
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.02);
  border-radius: 14px;
  padding: 12px 14px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.event .title,
.timeline-item .title {
  margin: 0;
  font-weight: 600;
}

.badge {
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid transparent;
  font-size: 12px;
  font-weight: 600;
  background: rgba(124, 155, 255, 0.15);
  color: #dfe6ff;
}

.badge.muted {
  opacity: 0.9;
  background: rgba(255, 255, 255, 0.05);
  color: var(--muted);
  border-color: var(--border);
}

.badge.primary {
  background: rgba(124, 155, 255, 0.2);
  border-color: rgba(124, 155, 255, 0.5);
  color: #d9e3ff;
}

.badge.amber {
  background: rgba(240, 198, 116, 0.18);
  border-color: rgba(240, 198, 116, 0.4);
  color: #fbe7be;
}

.badge.pink {
  background: rgba(255, 143, 177, 0.16);
  border-color: rgba(255, 143, 177, 0.4);
  color: #ffd6e4;
}

.badge.teal {
  background: rgba(79, 209, 197, 0.14);
  border-color: rgba(79, 209, 197, 0.4);
  color: #c8fff6;
}

.badge.violet {
  background: rgba(192, 132, 252, 0.18);
  border-color: rgba(192, 132, 252, 0.4);
  color: #efdbff;
}

.badge.green {
  background: rgba(116, 219, 168, 0.16);
  border-color: rgba(116, 219, 168, 0.4);
  color: #dbffe9;
}

.subsection {
  display: grid;
  gap: 10px;
}

.event-form {
  border: 1px solid var(--border);
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.03);
  padding: 12px;
  display: grid;
  gap: 10px;
}

.field-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 10px;
}

.event-form label {
  display: grid;
  gap: 6px;
  color: var(--muted);
  font-size: 14px;
}

.event-form input,
.event-form select {
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
}

.event-form input:focus,
.event-form select:focus {
  border-color: rgba(124, 155, 255, 0.4);
  outline: none;
}

.event-form select {
  appearance: none;
  background-image: linear-gradient(45deg, transparent 50%, var(--muted) 50%),
    linear-gradient(135deg, var(--muted) 50%, transparent 50%);
  background-position: calc(100% - 18px) 50%, calc(100% - 12px) 50%;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
}

.event-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.subhead {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.timeline-item .time {
  color: var(--muted);
  font-size: 13px;
  min-width: 64px;
}

.ai-dialog {
  margin-top: 18px;
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 14px;
  background: rgba(255, 255, 255, 0.03);
  display: none;
  flex-direction: column;
  gap: 12px;
}

.ai-dialog.open {
  display: flex;
}

.ai-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.ai-form {
  display: grid;
  gap: 10px;
}

.ai-form textarea {
  min-height: 110px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(255, 255, 255, 0.04);
  color: var(--text);
  padding: 12px;
  font-family: inherit;
  resize: vertical;
}

.ai-actions {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.ai-result {
  border-top: 1px solid var(--border);
  padding-top: 10px;
}

.ai-ops {
  list-style: none;
  padding: 0;
  margin: 8px 0 0;
  display: grid;
  gap: 6px;
}

.ai-ops li {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border: 1px solid var(--border);
  border-radius: 10px;
  background: rgba(255, 255, 255, 0.02);
}

.ai-ops.compact li {
  padding: 6px 8px;
}

@media (max-width: 960px) {
  .hero {
    grid-template-columns: 1fr;
  }

  .layout {
    grid-template-columns: 1fr;
  }

  body {
    padding: 20px 16px 32px;
  }
}

@media (max-width: 640px) {
  .calendar-grid .day,
  .calendar-grid .empty {
    aspect-ratio: 1.1 / 1;
    padding: 10px 8px;
  }

  .panel {
    padding: 14px;
  }
}
